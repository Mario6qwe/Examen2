<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Hanoi - Nivel Pro</title>
    <style>
        body { background: #f4f7f6; }
        .tower-area { display: flex; justify-content: center; align-items: flex-end; height: 300px; gap: 40px; margin-top: 50px; }
        .tower-base { width: 140px; height: 200px; position: relative; cursor: pointer; display: flex; flex-direction: column-reverse; align-items: center; border-bottom: 10px solid #5d4037; border-radius: 5px; }
        .tower-base:hover { background: rgba(0,0,0,0.05); }
        .tower-base.selected { border-bottom-color: #0d6efd; background: #eef2ff; }
        .pole { width: 10px; height: 180px; background: #5d4037; position: absolute; bottom: 0; z-index: 1; }
        .disk { height: 25px; border-radius: 15px; margin-bottom: 2px; z-index: 2; border: 2px solid rgba(0,0,0,0.1); transition: 0.2s; }
        .disk-1 { width: 50px; background: #ff5252; }
        .disk-2 { width: 85px; background: #ffeb3b; }
        .disk-3 { width: 120px; background: #2196f3; }
    </style>
</head>
<body class="text-center">
    <div class="container py-5">
        <h1 class="fw-bold">Torres de Hanoi</h1>
        <div class="badge bg-dark fs-5 mb-4">Movimientos: <span id="move-count">0</span></div>
        
        <div class="tower-area">
            <div id="t0" class="tower-base" onclick="handleClick(0)"><div class="pole"></div></div>
            <div id="t1" class="tower-base" onclick="handleClick(1)"><div class="pole"></div></div>
            <div id="t2" class="tower-base" onclick="handleClick(2)"><div class="pole"></div></div>
        </div>

        <div class="mt-5">
            <button class="btn btn-outline-danger" onclick="location.reload()">Reiniciar</button>
            <a href="index.html" class="btn btn-dark">Volver al Menú</a>
        </div>
    </div>

    [Image of Tower of Hanoi puzzle game with 3 disks]

    <script>
        let towers = [[3, 2, 1], [], []], selected = null, moves = 0;
        function render() {
            for(let i=0; i<3; i++) {
                const el = document.getElementById('t'+i);
                el.querySelectorAll('.disk').forEach(d => d.remove());
                el.classList.toggle('selected', selected === i);
                towers[i].forEach(size => {
                    const d = document.createElement('div');
                    d.className = `disk disk-${size}`;
                    el.appendChild(d);
                });
            }
        }
        function handleClick(i) {
            if(selected === null) {
                if(towers[i].length) selected = i;
            } else {
                const disc = towers[selected][towers[selected].length-1];
                const target = towers[i][towers[i].length-1];
                if(!target || disc < target) {
                    towers[i].push(towers[selected].pop());
                    moves++;
                    document.getElementById('move-count').innerText = moves;
                    if(towers[2].length === 3) setTimeout(() => alert("¡Ganaste en " + moves + " pasos!"), 100);
                }
                selected = null;
            }
            render();
        }
        render();
    </script>
</body>
</html>